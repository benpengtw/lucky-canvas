<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="my-lucky"></div>
    <script src="../dist/index.umd.js"></script>
    <script>
      const prizeImg = {
        src: "imgs/50.png",
        activeSrc: "imgs/100.png",
        width: "50%",
        top: "25%",
      };
      const prizes = [
        { x: 0, y: 0, imgs: [prizeImg], text: 0 },
        { x: 1, y: 0, imgs: [prizeImg], text: 1 },
        { x: 2, y: 0, imgs: [prizeImg], text: 2 },
        { x: 2, y: 1, imgs: [prizeImg], text: 3 },
        { x: 2, y: 2, imgs: [prizeImg], text: 4 },
        { x: 1, y: 2, imgs: [prizeImg], text: 5 },
        { x: 0, y: 2, imgs: [prizeImg], text: 6 },
        { x: 0, y: 1, imgs: [prizeImg], text: 7 },
      ];
      function getRandom(n, m) {
        let num = Math.floor(Math.random() * (m - n + 1) + n);
        return num;
      }
      var result;
      const myLucky = new LuckyCanvas.LuckyWheel("#my-lucky", {
        width: "400px",
        height: "400px",
        // blocks: [
        //   { padding: '10px', background: '#869cfa' },
        //   { padding: '10px', background: '#e9e8fe' },
        // ],
        blocks: [
          {
            padding: "20px",
            imgs: [
              {
                src: "imgs/grid-bg.png",
                width: "100%",
                height: "100%",
              },
            ],
          },
        ],
        prizes: prizes,
        buttons: [
          {
            x: 1,
            y: 1,
            background: "#9c9dd8",
            fonts: [{ text: "開始", top: "25%" }],
          },
        ],
        defaultStyle: {
          background: "#b8c5f2",
        },
        start: function () {
          // 開始遊戲
          myLucky.play();
          // 使用定時器模擬接口
          result = getRandom(0, 7);
          setTimeout(() => {
            // 結束遊戲
            myLucky.stop(result);
          }, 3000);
        },
        end: function () {
          // 結束遊戲後做的事
          confirm(prizes[result].text);
          myLucky.init();
        },
      });
    </script>
  </body>
</html>
